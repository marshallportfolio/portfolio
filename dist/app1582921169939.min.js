!function(){"use strict";angular.module("enterpriseApp.dashboards",["ui.router"]).config(["$stateProvider",function(r){r.state("dashboards",{url:"/dashboards",templateUrl:"dashboards/dashboards.html",controller:"DashboardsCtrl",controllerAs:"vm"})}])}();
!function(){"use strict";angular.module("enterpriseApp.reports",["ui.router"]).config(["$stateProvider",function(r){r.state("reports",{url:"/reports",templateUrl:"reports/reports.html",controller:"ReportsCtrl",controllerAs:"vm",name:"reports"})}])}();
!function(){"use strict";angular.module("enterpriseApp.settings",["ui.router"]).config(["$stateProvider",function(t){t.state("settings",{name:"settings",url:"/settings",templateUrl:"settings/settings.html",controller:"SettingsCtrl",controllerAs:"vm"})}])}();
!function(){"use strict";function e(e,n,a){var r=this;r.isLoading=!0,r.showNavMenu=!0,r.showMobileMenu=!1,r.currentMenu="dashboards",r.selectMenuItem=function(e){r.currentMenu=e,r.showMobileMenu=!1};var t=a.$on("$translateChangeEnd",function(){r.isLoading=!1}),s=a.$on("$stateChangeSuccess",function(n,a){e.debug("In stateChangeSuccess loading state:"+a.name),a&&a.name&&(r.currentMenu=a.name)});n.$on("$destroy",function(){t(),s()})}angular.module("enterpriseApp",["ui.router","ngSanitize","pascalprecht.translate","enterpriseApp.dashboards","enterpriseApp.reports","enterpriseApp.settings","enterpriseApp.templates"]).config(["$locationProvider","$translateProvider","$urlRouterProvider",function(e,n,a){e.hashPrefix("!"),a.otherwise("/dashboards"),n.useStaticFilesLoader({prefix:"l10n/",suffix:".json"}).registerAvailableLanguageKeys(["en-US","ja"],{en:"en-US","en_*":"en-US","en-*":"en-US",ja:"ja","ja-*":"ja","ja_*":"ja","*":"en-US"}).determinePreferredLanguage().fallbackLanguage("en-US"),n.useSanitizeValueStrategy("sanitizeParameters")}]).controller("enterpriseAppController",e),e.$inject=["$log","$scope","$rootScope"]}();
!function(){"use strict";function t(t,e,n){function r(t){return n(function(){return t},Math.floor(Math.random()*Math.floor(4e3)))}function a(t){if(angular.isDefined(t))return moment(t,"YYYYMMDD").format("L")}var o="en-US",u={preferredLanguage:o,simulateBackendCall:r,formatDate:a};return u}angular.module("enterpriseApp").factory("appService",t),t.$inject=["$http","$log","$timeout"]}();
!function(){"use strict";function t(t,a){function e(){a.getPieChartData().then(function(t){l.pieChartData=n(t.data),l.pieLoading=!1}),a.getBarChartData().then(function(t){l.barChartData=r(t.data),l.barLoading=!1}),a.getLineChartData().then(function(t){l.lineChartData=o(t.data),l.lineLoading=!1})}function n(t){u(t);for(var a=t.reduce(i,0),e=0,n=0,r=t.length;n<r;n++)t[n].offset=e,t[n].percent=t[n].value/a*100,e+=t[n].percent,t[n].over50=t[n].percent>50?1:0;return t}function r(t){u(t);var a=t.reduce(i,0);t.topMostPoint=t[0].value;for(var e=0,n=t.length;e<n;e++)t[e].percent=t[e].value/a*100;return t}function o(t){function a(t){return t*(180/Math.PI)}var e=200/t.length;u(t);for(var n=t[0].value,r=200,o=40,i=0,l=0,h=[],s=0,v=t.length-1;s<v;s++){var c={left:0,bottom:0,hypotenuse:0,angle:0,value:0,item:""};c.value=t[s].value,c.item=t[s].item,c.left=o>0?o-2:o,o+=e,c.bottom=r*(c.value/n),i=r*(t[s+1].value/n),l=c.bottom-i,c.hypotenuse=Math.sqrt(e*e+l*l),c.angle=a(Math.asin(l/c.hypotenuse)),h.push(c)}var f={left:o-2,bottom:r*(t[t.length-1].value/n),hypotenuse:0,angle:0,value:t[t.length-1].value,item:t[t.length-1].item};return h.push(f),h.topMostPoint=n,h}function u(t){t.sort(function(t,a){return a.value-t.value})}function i(t,a){return t+a.value}var l=this;l.title="dashboards",l.pieLoading=!0,l.barLoading=!0,l.lineLoading=!0,l.startDate=moment().subtract(6,"days").format("YYYYMMDD"),l.endDate=moment().format("YYYYMMDD"),l.pieChartData,l.barChartData,l.lineChartData,l.formatDate=t.formatDate,e()}angular.module("enterpriseApp.dashboards").controller("DashboardsCtrl",t),t.$inject=["appService","dashboardsService"]}();
!function(){"use strict";function t(t,a,e){function n(){return e.simulateBackendCall({data:c}).then(s)}function r(){return e.simulateBackendCall({data:c}).then(s)}function u(){return e.simulateBackendCall({data:c}).then(s)}function s(t){return t.data}var c={startDate:moment().subtract(6,"days").format("YYYYMMDD"),endDate:moment().format("YYYYMMDD"),data:[{item:"black socks",type:"NUMBER",value:60},{item:"blue socks",type:"NUMBER",value:5},{item:"red socks",type:"NUMBER",value:15},{item:"new socks",type:"NUMBER",value:20}]},i={getPieChartData:n,getBarChartData:r,getLineChartData:u,getReportData:c};return i}angular.module("enterpriseApp.dashboards").factory("dashboardsService",t),t.$inject=["$http","$log","appService"]}();
!function(){"use strict";function t(t,r){function e(){r.getReportData().then(function(t){o.reportData=t,o.loading=!1})}var o=this;o.title="reports",o.loading=!0,o.reportData={},o.formatDate=t.formatDate,e()}angular.module("enterpriseApp.reports").controller("ReportsCtrl",t),t.$inject=["appService","reportsService"]}();
!function(){"use strict";function t(t,d,a){function u(){function t(t){return t.data}var d=[{date:20200101,id:1001,product:"black socks",quantity:200},{date:20200101,id:1002,product:"blue socks",quantity:500},{date:20200102,id:1011,product:"red socks",quantity:20},{date:20200102,id:1012,product:"plaid socks",quantity:30},{date:20200103,id:1013,product:"argyle socks",quantity:40},{date:20200101,id:1001,product:"black socks",quantity:200},{date:20200101,id:1002,product:"blue socks",quantity:500},{date:20200102,id:1011,product:"red socks",quantity:20},{date:20200102,id:1012,product:"plaid socks",quantity:30},{date:20200103,id:1013,product:"argyle socks",quantity:40},{date:20200101,id:1001,product:"black socks",quantity:200},{date:20200101,id:1002,product:"blue socks",quantity:500},{date:20200102,id:1011,product:"red socks",quantity:20},{date:20200102,id:1012,product:"plaid socks",quantity:30},{date:20200103,id:1013,product:"argyle socks",quantity:40},{date:20200101,id:1001,product:"black socks",quantity:200},{date:20200101,id:1002,product:"blue socks",quantity:500},{date:20200102,id:1011,product:"red socks",quantity:20},{date:20200102,id:1012,product:"plaid socks",quantity:30},{date:20200103,id:1013,product:"argyle socks",quantity:40},{date:20200101,id:1001,product:"black socks",quantity:200},{date:20200101,id:1002,product:"blue socks",quantity:500},{date:20200102,id:1011,product:"red socks",quantity:20},{date:20200102,id:1012,product:"plaid socks",quantity:30},{date:20200103,id:1013,product:"argyle socks",quantity:40},{date:20200101,id:1001,product:"black socks",quantity:200},{date:20200101,id:1002,product:"blue socks",quantity:500},{date:20200102,id:1011,product:"red socks",quantity:20},{date:20200102,id:1012,product:"plaid socks",quantity:30},{date:20200103,id:1013,product:"argyle socks",quantity:40},{date:20200101,id:1001,product:"black socks",quantity:200},{date:20200101,id:1002,product:"blue socks",quantity:500},{date:20200102,id:1011,product:"red socks",quantity:20},{date:20200102,id:1012,product:"plaid socks",quantity:30},{date:20200103,id:1013,product:"argyle socks",quantity:40},{date:20200101,id:1001,product:"black socks",quantity:200},{date:20200101,id:1002,product:"blue socks",quantity:500},{date:20200102,id:1011,product:"red socks",quantity:20},{date:20200102,id:1012,product:"plaid socks",quantity:30},{date:20200103,id:1013,product:"argyle socks",quantity:40},{date:20200101,id:1001,product:"black socks",quantity:200},{date:20200101,id:1002,product:"blue socks",quantity:500},{date:20200102,id:1011,product:"red socks",quantity:20},{date:20200102,id:1012,product:"plaid socks",quantity:30},{date:20200103,id:1013,product:"argyle socks",quantity:40},{date:20200101,id:1001,product:"black socks",quantity:200},{date:20200101,id:1002,product:"blue socks",quantity:500},{date:20200102,id:1011,product:"red socks",quantity:20},{date:20200102,id:1012,product:"plaid socks",quantity:30},{date:20200103,id:1013,product:"argyle socks",quantity:40},{date:20200101,id:1001,product:"black socks",quantity:200},{date:20200101,id:1002,product:"blue socks",quantity:500},{date:20200102,id:1011,product:"red socks",quantity:20},{date:20200102,id:1012,product:"plaid socks",quantity:30},{date:20200103,id:1013,product:"argyle socks",quantity:40}];return a.simulateBackendCall({data:d}).then(t)}var c={getReportData:u};return c}angular.module("enterpriseApp.reports").factory("reportsService",t),t.$inject=["$http","$log","appService"]}();
!function(){"use strict";function e(e,n,a){var t=this;t.lang=a.preferredLanguage,t.title="settings",t.changeLanguageAndLocale=function(){a.preferredLanguage=t.lang,moment.locale(t.lang),n.use(t.lang),e.$broadcast("languageChange")}}angular.module("enterpriseApp.settings").controller("SettingsCtrl",e),e.$inject=["$rootScope","$translate","appService"]}();
!function(){"use strict";angular.module("enterpriseApp").directive("spinner",[function(){return{restrict:"EA",templateUrl:"framework/shared/spinner/spinner.html",scope:{small:"@?"}}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhc2hib2FyZHMvZGFzaGJvYXJkcy5tb2R1bGUuanMiLCJyZXBvcnRzL3JlcG9ydHMubW9kdWxlLmpzIiwic2V0dGluZ3Mvc2V0dGluZ3MubW9kdWxlLmpzIiwiYXBwLmpzIiwiYXBwLnNlcnZpY2UuanMiLCJkYXNoYm9hcmRzL2Rhc2hib2FyZHMuY29udHJvbGxlci5qcyIsImRhc2hib2FyZHMvZGFzaGJvYXJkcy5zZXJ2aWNlLmpzIiwicmVwb3J0cy9yZXBvcnRzLmNvbnRyb2xsZXIuanMiLCJyZXBvcnRzL3JlcG9ydHMuc2VydmljZS5qcyIsInNldHRpbmdzL3NldHRpbmdzLmNvbnRyb2xsZXIuanMiLCJmcmFtZXdvcmsvc2hhcmVkL3NwaW5uZXIvc3Bpbm5lci5kaXJlY3RpdmUuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJuYW1lIiwiZW50ZXJwcmlzZUFwcENvbnRyb2xsZXIiLCIkbG9nIiwiJHNjb3BlIiwiJHJvb3RTY29wZSIsInZtIiwidGhpcyIsImlzTG9hZGluZyIsInNob3dOYXZNZW51Iiwic2hvd01vYmlsZU1lbnUiLCJjdXJyZW50TWVudSIsInNlbGVjdE1lbnVJdGVtIiwibWVudU5hbWUiLCJ0cmFuc2xhdGlvbkxpc3RlbmVyIiwiJG9uIiwicm91dGVMaXN0ZW5lciIsImV2ZW50IiwidG9TdGF0ZSIsImRlYnVnIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkdHJhbnNsYXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJoYXNoUHJlZml4Iiwib3RoZXJ3aXNlIiwidXNlU3RhdGljRmlsZXNMb2FkZXIiLCJwcmVmaXgiLCJzdWZmaXgiLCJyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsImVuIiwiZW5fKiIsImVuLSoiLCJqYSIsImphLSoiLCJqYV8qIiwiKiIsImRldGVybWluZVByZWZlcnJlZExhbmd1YWdlIiwiZmFsbGJhY2tMYW5ndWFnZSIsInVzZVNhbml0aXplVmFsdWVTdHJhdGVneSIsIiRpbmplY3QiLCJhcHBTZXJ2aWNlIiwiJGh0dHAiLCIkdGltZW91dCIsInNpbXVsYXRlQmFja2VuZENhbGwiLCJkYXRhIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiZm9ybWF0RGF0ZSIsImRhdGUiLCJpc0RlZmluZWQiLCJtb21lbnQiLCJmb3JtYXQiLCJwcmVmZXJyZWRMYW5ndWFnZSIsInNlcnZpY2UiLCJmYWN0b3J5IiwiRGFzaGJvYXJkc0N0cmwiLCJkYXNoYm9hcmRzU2VydmljZSIsImluaXQiLCJnZXRQaWVDaGFydERhdGEiLCJ0aGVuIiwicGllQ2hhcnREYXRhIiwiZm9ybWF0UGllQ2hhcnREYXRhIiwicGllTG9hZGluZyIsImdldEJhckNoYXJ0RGF0YSIsImJhckNoYXJ0RGF0YSIsImZvcm1hdEJhckNoYXJ0RGF0YSIsImJhckxvYWRpbmciLCJnZXRMaW5lQ2hhcnREYXRhIiwibGluZUNoYXJ0RGF0YSIsImZvcm1hdExpbmVDaGFydERhdGEiLCJsaW5lTG9hZGluZyIsInZhbHVlcyIsInNvcnRWYWx1ZXMiLCJ0b3RhbCIsInJlZHVjZSIsInN1bSIsIm9mZnNldCIsImkiLCJsZW4iLCJsZW5ndGgiLCJwZXJjZW50IiwidmFsdWUiLCJvdmVyNTAiLCJ0b3BNb3N0UG9pbnQiLCJyYWRpYW5zVG9EZWdyZWVzIiwicmFkcyIsIlBJIiwiYmFzZSIsIndpZGdldFNpemUiLCJsZWZ0T2Zmc2V0IiwibmV4dFBvaW50IiwicmlzZSIsImNzc1ZhbHVlcyIsImN1cnJlbnRWYWx1ZSIsImxlZnQiLCJib3R0b20iLCJoeXBvdGVudXNlIiwiYW5nbGUiLCJpdGVtIiwic3FydCIsImFzaW4iLCJwdXNoIiwibGFzdFBvaW50Iiwic29ydCIsImEiLCJiIiwidGl0bGUiLCJzdGFydERhdGUiLCJzdWJ0cmFjdCIsImVuZERhdGUiLCJyZXBvcnREYXRhIiwicHJvY2Vzc0RhdGEiLCJ0eXBlIiwiZ2V0UmVwb3J0RGF0YSIsIlJlcG9ydHNDdHJsIiwicmVwb3J0c1NlcnZpY2UiLCJsb2FkaW5nIiwiaWQiLCJwcm9kdWN0IiwicXVhbnRpdHkiLCJTZXR0aW5nc0N0cmwiLCIkdHJhbnNsYXRlIiwibGFuZyIsImNoYW5nZUxhbmd1YWdlQW5kTG9jYWxlIiwibG9jYWxlIiwidXNlIiwiJGJyb2FkY2FzdCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0Iiwic2NvcGUiLCJzbWFsbCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDSSxZQUVBQSxTQUNLQyxPQUFPLDRCQUE2QixjQUVwQ0MsUUFBUSxpQkFBa0IsU0FBU0MsR0FDaENBLEVBQWVDLE1BQU0sY0FDakJDLElBQUssY0FDTEMsWUFBYSw2QkFDYkMsV0FBWSxpQkFDWkMsYUFBYztDQ1g5QixXQUNJLFlBRUFSLFNBQ0tDLE9BQU8seUJBQTBCLGNBRXJDQyxRQUFRLGlCQUFrQixTQUFTQyxHQUNoQ0EsRUFBZUMsTUFBTSxXQUNqQkMsSUFBSyxXQUNMQyxZQUFhLHVCQUNiQyxXQUFZLGNBQ1pDLGFBQWMsS0FDZEMsS0FBTTtDQ1psQixXQUNJLFlBRUFULFNBQ0tDLE9BQU8sMEJBQTJCLGNBRXRDQyxRQUFRLGlCQUFrQixTQUFTQyxHQUNoQ0EsRUFBZUMsTUFBTSxZQUNqQkssS0FBTSxXQUNOSixJQUFLLFlBQ0xDLFlBQWEseUJBQ2JDLFdBQVksZUFDWkMsYUFBYztDQ1YxQixXQUNJLFlBNkNBLFNBQVNFLEdBQXdCQyxFQUFNQyxFQUFRQyxHQUMzQyxHQUFJQyxHQUFLQyxJQUVURCxHQUFHRSxXQUFZLEVBQ2ZGLEVBQUdHLGFBQWMsRUFDakJILEVBQUdJLGdCQUFpQixFQUVwQkosRUFBR0ssWUFBYyxhQUVqQkwsRUFBR00sZUFBaUIsU0FBU0MsR0FDekJQLEVBQUdLLFlBQWNFLEVBQ2pCUCxFQUFHSSxnQkFBaUIsRUFHeEIsSUFBSUksR0FBc0JULEVBQVdVLElBQUksc0JBQXVCLFdBQzVEVCxFQUFHRSxXQUFZLElBR2ZRLEVBQWdCWCxFQUFXVSxJQUFJ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VnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxlQUNUQyxTQUFVLEtBR1Z2RSxLQUFNLFNBQ05xRSxHQUFJLEtBQ0pDLFFBQVMsY0FDVEMsU0FBVSxNQUdWdkUsS0FBTSxTQUNOcUUsR0FBSSxLQUNKQyxRQUFTLGFBQ1RDLFNBQVUsTUFHVnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxZQUNUQyxTQUFVLEtBR1Z2RSxLQUFNLFNBQ05xRSxHQUFJLEtBQ0pDLFFBQVMsY0FDVEMsU0FBVSxLQUdWdkUsS0FBTSxTQUNOcUUsR0FBSSxLQUNKQyxRQUFTLGVBQ1RDLFNBQVUsS0FHVnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxjQUNUQyxTQUFVLE1BR1Z2RSxLQUFNLFNBQ05xRSxHQUFJLEtBQ0pDLFFBQVMsYUFDVEMsU0FBVSxNQUdWdkUsS0FBTSxTQUNOcUUsR0FBSSxLQUNKQyxRQUFTLFlBQ1RDLFNBQVUsS0FHVnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxjQUNUQyxTQUFVLEtBR1Z2RSxLQUFNLFNBQ05xRSxHQUFJLEtBQ0pDLFFBQVMsZUFDVEMsU0FBVSxLQUdWdkUsS0FBTSxTQUNOcUUsR0FBSSxLQUNKQyxRQUFTLGNBQ1RDLFNBQVUsTUFHVnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxhQUNUQyxTQUFVLE1BR1Z2RSxLQUFNLFNBQ05xRSxHQUFJLEtBQ0pDLFFBQVMsWUFDVEMsU0FBVSxLQUdWdkUsS0FBTSxTQUNOcUUsR0FBSSxLQUNKQyxRQUFTLGNBQ1RDLFNBQVUsS0FHVnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxlQUNUQyxTQUFVLEtBR1Z2RSxLQUFNLFNBQ05xRSxHQUFJLEtBQ0pDLFFBQVMsY0FDVEMsU0FBVSxNQUdWdkUsS0FBTSxTQUNOcUUsR0FBSSxLQUNKQyxRQUFTLGFBQ1RDLFNBQVUsTUFHVnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxZQUNUQyxTQUFVLEtBR1Z2RSxLQUFNLFNBQ05xRSxHQUFJLEtBQ0pDLFFBQVMsY0FDVEMsU0FBVSxLQUdWdkUsS0FBTSxTQUNOcUUsR0FBSSxLQUNKQyxRQUFTLGVBQ1RDLFNBQVUsS0FHVnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxjQUNUQyxTQUFVLE1BR1Z2RSxLQUFNLFNBQ05xRSxHQUFJLEtBQ0pDLFFBQVMsYUFDVEMsU0FBVSxNQUdWdkUsS0FBTSxTQUNOcUUsR0FBSSxLQUNKQyxRQUFTLFlBQ1RDLFNBQVUsS0FHVnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxjQUNUQyxTQUFVLEtBR1Z2RSxLQUFNLFNBQ05xRSxHQUFJLEtBQ0pDLFFBQVMsZUFDVEMsU0FBVSxLQUdWdkUsS0FBTSxTQUNOcUUsR0FBSSxLQUNKQyxRQUFTLGNBQ1RDLFNBQVUsTUFHVnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxhQUNUQyxTQUFVLE1BR1Z2RSxLQUFNLFNBQ05xRSxHQUFJLEtBQ0pDLFFBQVMsWUFDVEMsU0FBVSxLQUdWdkUsS0FBTSxTQUNOcUUsR0FBSSxLQUNKQyxRQUFTLGNBQ1RDLFNBQVUsS0FHVnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxlQUNUQyxTQUFVLEtBR1Z2RSxLQUFNLFNBQ05xRSxHQUFJLEtBQ0pDLFFBQVMsY0FDVEMsU0FBVSxNQUdWdkUsS0FBTSxTQUNOcUUsR0FBSSxLQUNKQyxRQUFTLGFBQ1RDLFNBQVUsTUFHVnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxZQUNUQyxTQUFVLEtBR1Z2RSxLQUFNLFNBQ05xRSxHQUFJLEtBQ0pDLFFBQVMsY0FDVEMsU0FBVSxLQUdWdkUsS0FBTSxTQUNOcUUsR0FBSSxLQUNKQyxRQUFTLGVBQ1RDLFNBQVUsS0FHVnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxjQUNUQyxTQUFVLE1BR1Z2RSxLQUFNLFNBQ05xRSxHQUFJLEtBQ0pDLFFBQVMsYUFDVEMsU0FBVSxNQUdWdkUsS0FBTSxTQUNOcUUsR0FBSSxLQUNKQyxRQUFTLFlBQ1RDLFNBQVUsS0FHVnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxjQUNUQyxTQUFVLEtBR1Z2RSxLQUFNLFNBQ05xRSxHQUFJLEtBQ0pDLFFBQVMsZUFDVEMsU0FBVSxLQUdWdkUsS0FBTSxTQUNOcUUsR0FBSSxLQUNKQyxRQUFTLGNBQ1RDLFNBQVUsTUFHVnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxhQUNUQyxTQUFVLE1BR1Z2RSxLQUFNLFNBQ05xRSxHQUFJLEtBQ0pDLFFBQVMsWUFDVEMsU0FBVSxLQUdWdkUsS0FBTSxTQUNOcUUsR0FBSSxLQUNKQyxRQUFTLGNBQ1RDLFNBQVUsS0FHVnZFLEtBQU0sU0FDTnFFLEdBQUksS0FDSkMsUUFBUyxlQUNUQyxTQUFVLElBSWxCLE9BQU9oRixHQUFXRyxxQkFBcUJDLEtBQU1tRSxJQUFhbkQsS0FBS29ELEdBcFZuRSxHQUFJMUQsSUFDQTRELGNBQWVBLEVBR25CLE9BQU81RCxHQVhYOUQsUUFDS0MsT0FBTyx5QkFDUDhELFFBQVEsaUJBQWtCNkQsR0FFL0JBLEVBQWU3RSxTQUFXLFFBQVMsT0FBUTtDQ1AvQyxXQUNJLFlBT0EsU0FBU2tGLEdBQWFwSCxFQUFZcUgsRUFBWWxGLEdBQzFDLEdBQUlsQyxHQUFLQyxJQUNURCxHQUFHcUgsS0FBT25GLEVBQVdhLGtCQUNyQi9DLEVBQUdxRyxNQUFRLFdBRVhyRyxFQUFHc0gsd0JBQTBCLFdBQ3pCcEYsRUFBV2Esa0JBQW9CL0MsRUFBR3FILEtBQ2xDeEUsT0FBTzBFLE9BQU92SCxFQUFHcUgsTUFDakJELEVBQVdJLElBQUl4SCxFQUFHcUgsTUFDbEJ0SCxFQUFXMEgsV0FBVyxtQkFkOUJ2SSxRQUFRQyxPQUFPLDBCQUNkTSxXQUFXLGVBQWdCMEgsR0FFNUJBLEVBQWFsRixTQUFXLGFBQWMsYUFBYztDQ054RCxXQUNJLFlBRUEvQyxTQUNLQyxPQUFPLGlCQUNQdUksVUFBVSxXQUNQLFdBQ0ksT0FDSUMsU0FBVSxLQUNWbkksWUFBYSx3Q0FDYm9JLE9BQ0lDLE1BQU8iLCJmaWxlIjoiYXBwMTU4MjkyMTE2OTkzOS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdlbnRlcnByaXNlQXBwLmRhc2hib2FyZHMnLCBbJ3VpLnJvdXRlciddKVxuXG4gICAgICAgIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnZGFzaGJvYXJkcycsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvZGFzaGJvYXJkcycsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdkYXNoYm9hcmRzL2Rhc2hib2FyZHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0Rhc2hib2FyZHNDdHJsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZW50ZXJwcmlzZUFwcC5yZXBvcnRzJywgWyd1aS5yb3V0ZXInXSlcblxuICAgIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdyZXBvcnRzJywge1xuICAgICAgICAgICAgdXJsOiAnL3JlcG9ydHMnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZXBvcnRzL3JlcG9ydHMuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnUmVwb3J0c0N0cmwnLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgbmFtZTogJ3JlcG9ydHMnXG4gICAgICAgIH0pO1xuICAgIH1dKTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VudGVycHJpc2VBcHAuc2V0dGluZ3MnLCBbJ3VpLnJvdXRlciddKVxuXG4gICAgLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ3NldHRpbmdzJywge1xuICAgICAgICAgICAgbmFtZTogJ3NldHRpbmdzJyxcbiAgICAgICAgICAgIHVybDogJy9zZXR0aW5ncycsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NldHRpbmdzL3NldHRpbmdzLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ1NldHRpbmdzQ3RybCcsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICAgICAgfSk7XG4gICAgfV0pO1xuXG59KSgpO1xuIiwiXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBEZWNsYXJlIGFwcCBsZXZlbCBtb2R1bGUgd2hpY2ggZGVwZW5kcyBvbiB2aWV3cywgYW5kIGNvcmUgY29tcG9uZW50c1xuICAgIGFuZ3VsYXIubW9kdWxlKCdlbnRlcnByaXNlQXBwJywgW1xuICAgICAgICAndWkucm91dGVyJyxcbiAgICAgICAgJ25nU2FuaXRpemUnLFxuICAgICAgICAncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScsXG4gICAgICAgICdlbnRlcnByaXNlQXBwLmRhc2hib2FyZHMnLFxuICAgICAgICAnZW50ZXJwcmlzZUFwcC5yZXBvcnRzJyxcbiAgICAgICAgJ2VudGVycHJpc2VBcHAuc2V0dGluZ3MnLFxuICAgICAgICAnZW50ZXJwcmlzZUFwcC50ZW1wbGF0ZXMnXG4gICAgXSlcbiAgICAgICAgLmNvbmZpZyhbXG4gICAgICAgICAgICAnJGxvY2F0aW9uUHJvdmlkZXInLCAnJHRyYW5zbGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsXG4gICAgICAgICAgICBmdW5jdGlvbigkbG9jYXRpb25Qcm92aWRlciwgJHRyYW5zbGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCchJyk7XG5cbiAgICAgICAgICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvZGFzaGJvYXJkcycpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ29uZmlndXJlIHRyYW5zbGF0aW9uc1xuICAgICAgICAgICAgICAgICR0cmFuc2xhdGVQcm92aWRlclxuICAgICAgICAgICAgICAgICAgICAudXNlU3RhdGljRmlsZXNMb2FkZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4OiAnbDEwbi8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VmZml4OiAnLmpzb24nXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5yZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyhbJ2VuLVVTJywgJ2phJ10sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdlbic6ICdlbi1VUycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZW5fKic6ICdlbi1VUycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZW4tKic6ICdlbi1VUycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnamEnOiAnamEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2phLSonOiAnamEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2phXyonOiAnamEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJyonOiAnZW4tVVMnXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5kZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSgpXG4gICAgICAgICAgICAgICAgICAgIC5mYWxsYmFja0xhbmd1YWdlKCdlbi1VUycpO1xuXG4gICAgICAgICAgICAgICAgLy8gUHJvdGVjdCBmcm9tIGluc2VydGlvbiBhdHRhY2tzIGluIHRoZSB0cmFuc2xhdGlvbiB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSgnc2FuaXRpemVQYXJhbWV0ZXJzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIF0pXG4gICAgICAgIC5jb250cm9sbGVyKCdlbnRlcnByaXNlQXBwQ29udHJvbGxlcicsIGVudGVycHJpc2VBcHBDb250cm9sbGVyKTtcblxuICAgIGVudGVycHJpc2VBcHBDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJHNjb3BlJywgJyRyb290U2NvcGUnXTtcblxuICAgIGZ1bmN0aW9uIGVudGVycHJpc2VBcHBDb250cm9sbGVyKCRsb2csICRzY29wZSwgJHJvb3RTY29wZSkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHZtLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgIHZtLnNob3dOYXZNZW51ID0gdHJ1ZTtcbiAgICAgICAgdm0uc2hvd01vYmlsZU1lbnUgPSBmYWxzZTtcblxuICAgICAgICB2bS5jdXJyZW50TWVudSA9ICdkYXNoYm9hcmRzJztcblxuICAgICAgICB2bS5zZWxlY3RNZW51SXRlbSA9IGZ1bmN0aW9uKG1lbnVOYW1lKSB7XG4gICAgICAgICAgICB2bS5jdXJyZW50TWVudSA9IG1lbnVOYW1lO1xuICAgICAgICAgICAgdm0uc2hvd01vYmlsZU1lbnUgPSBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdHJhbnNsYXRpb25MaXN0ZW5lciA9ICRyb290U2NvcGUuJG9uKCckdHJhbnNsYXRlQ2hhbmdlRW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2bS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHJvdXRlTGlzdGVuZXIgPSAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlKSB7XG4gICAgICAgICAgICAkbG9nLmRlYnVnKCdJbiBzdGF0ZUNoYW5nZVN1Y2Nlc3MgbG9hZGluZyBzdGF0ZTonICsgdG9TdGF0ZS5uYW1lKTtcbiAgICAgICAgICAgIGlmICh0b1N0YXRlICYmIHRvU3RhdGUubmFtZSkge1xuICAgICAgICAgICAgICAgIHZtLmN1cnJlbnRNZW51ID0gdG9TdGF0ZS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25MaXN0ZW5lcigpO1xuICAgICAgICAgICAgcm91dGVMaXN0ZW5lcigpO1xuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnZW50ZXJwcmlzZUFwcCcpXG4gICAgICAgIC5mYWN0b3J5KCdhcHBTZXJ2aWNlJywgYXBwU2VydmljZSk7XG5cbiAgICBhcHBTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2cnLCAnJHRpbWVvdXQnXTtcblxuICAgIGZ1bmN0aW9uIGFwcFNlcnZpY2UoJGh0dHAsICRsb2csICR0aW1lb3V0KSB7XG5cbiAgICAgICAgdmFyIHByZWZlcnJlZExhbmd1YWdlID0gJ2VuLVVTJztcblxuICAgICAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgICAgICAgIHByZWZlcnJlZExhbmd1YWdlOiBwcmVmZXJyZWRMYW5ndWFnZSxcbiAgICAgICAgICAgIHNpbXVsYXRlQmFja2VuZENhbGw6IHNpbXVsYXRlQmFja2VuZENhbGwsXG4gICAgICAgICAgICBmb3JtYXREYXRlOiBmb3JtYXREYXRlXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG5cbiAgICAgICAgZnVuY3Rpb24gc2ltdWxhdGVCYWNrZW5kQ2FsbChkYXRhKSB7XG4gICAgICAgICAgICAvL1NpbmNlIHRoaXMgc2FtcGxlIGFwcCBpcyBkZXNpZ25lZCB0byBydW4gb24gYSBHaXRIdWIgUGFnZSwgaXQgaGFzIG5vIGJhY2tlbmQgdG8gbWFrZSBjYWxscyB0by5cbiAgICAgICAgICAgIC8vV2Ugc3RpbGwgd2FudCB0aGUgYXBwIHRvIGhhbmRsZSBhc3luY2hyb25vdXMgY2FsbHMgYW5kIGRlYWwgd2l0aCB0aGUgZGVsYXlzIGFuZCBzdWNoIHRoYXQgcmVtb3RlXG4gICAgICAgICAgICAvL2NhbGxzIGludHJvZHVjZSwgc28gd2UnbGwgc2ltdWxhdGUgY2FsbHMgdG8gdGhlIGJhY2tlbmQgd2l0aCBhIHRpbWVvdXQgZnVuY3Rpb24gdGhhdCBkZWxheXMgdXAgdG8gYSBmZXdcbiAgICAgICAgICAgIC8vc2Vjb25kcyBiZWZvcmUgcmVzb2x2aW5nIGEgcHJvbWlzZS5cbiAgICAgICAgICAgIHJldHVybiAkdGltZW91dChmdW5jdGlvbigpIHsgcmV0dXJuIGRhdGE7IH0sIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1hdGguZmxvb3IoNDAwMCkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkge1xuICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmlzRGVmaW5lZChkYXRlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZGF0ZSwgJ1lZWVlNTUREJykuZm9ybWF0KCdMJyk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdlbnRlcnByaXNlQXBwLmRhc2hib2FyZHMnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdEYXNoYm9hcmRzQ3RybCcsIERhc2hib2FyZHNDdHJsKTtcclxuXHJcbiAgICBEYXNoYm9hcmRzQ3RybC4kaW5qZWN0ID0gWydhcHBTZXJ2aWNlJywgJ2Rhc2hib2FyZHNTZXJ2aWNlJ107XHJcblxyXG4gICAgZnVuY3Rpb24gRGFzaGJvYXJkc0N0cmwoYXBwU2VydmljZSwgZGFzaGJvYXJkc1NlcnZpY2UpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLnRpdGxlID0gJ2Rhc2hib2FyZHMnO1xyXG5cclxuICAgICAgICB2bS5waWVMb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICB2bS5iYXJMb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICB2bS5saW5lTG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgIHZtLnN0YXJ0RGF0ZSA9IG1vbWVudCgpLnN1YnRyYWN0KDYsICdkYXlzJykuZm9ybWF0KCdZWVlZTU1ERCcpO1xyXG4gICAgICAgIHZtLmVuZERhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVlNTUREJyk7XHJcblxyXG4gICAgICAgIHZtLnBpZUNoYXJ0RGF0YTtcclxuICAgICAgICB2bS5iYXJDaGFydERhdGE7XHJcbiAgICAgICAgdm0ubGluZUNoYXJ0RGF0YTtcclxuICAgICAgICB2bS5mb3JtYXREYXRlID0gYXBwU2VydmljZS5mb3JtYXREYXRlO1xyXG5cclxuICAgICAgICBpbml0KCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgICAgICAgIGRhc2hib2FyZHNTZXJ2aWNlLmdldFBpZUNoYXJ0RGF0YSgpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdm0ucGllQ2hhcnREYXRhID0gZm9ybWF0UGllQ2hhcnREYXRhKGRhdGEuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB2bS5waWVMb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZGFzaGJvYXJkc1NlcnZpY2UuZ2V0QmFyQ2hhcnREYXRhKCkudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5iYXJDaGFydERhdGEgPSBmb3JtYXRCYXJDaGFydERhdGEoZGF0YS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIHZtLmJhckxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkYXNoYm9hcmRzU2VydmljZS5nZXRMaW5lQ2hhcnREYXRhKCkudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5saW5lQ2hhcnREYXRhID0gZm9ybWF0TGluZUNoYXJ0RGF0YShkYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdm0ubGluZUxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmb3JtYXRQaWVDaGFydERhdGEodmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHNvcnRWYWx1ZXModmFsdWVzKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0b3RhbCA9IHZhbHVlcy5yZWR1Y2Uoc3VtLCAwKTtcclxuICAgICAgICAgICAgdmFyIG9mZnNldCA9IDA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpPTAsIGxlbj12YWx1ZXMubGVuZ3RoOyBpPGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXNbaV0ub2Zmc2V0ID0gb2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzW2ldLnBlcmNlbnQgPSB2YWx1ZXNbaV0udmFsdWUgLyB0b3RhbCAqIDEwMDtcclxuICAgICAgICAgICAgICAgIG9mZnNldCArPSB2YWx1ZXNbaV0ucGVyY2VudDtcclxuICAgICAgICAgICAgICAgIHZhbHVlc1tpXS5vdmVyNTAgPSB2YWx1ZXNbaV0ucGVyY2VudCA+IDUwID8gMSA6IDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmb3JtYXRCYXJDaGFydERhdGEodmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHNvcnRWYWx1ZXModmFsdWVzKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0b3RhbCA9IHZhbHVlcy5yZWR1Y2Uoc3VtLCAwKTtcclxuICAgICAgICAgICAgdmFsdWVzLnRvcE1vc3RQb2ludCA9IHZhbHVlc1swXS52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MCwgbGVuPXZhbHVlcy5sZW5ndGg7IGk8bGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlc1tpXS5wZXJjZW50ID0gdmFsdWVzW2ldLnZhbHVlIC8gdG90YWwgKiAxMDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmb3JtYXRMaW5lQ2hhcnREYXRhKHZhbHVlcykge1xyXG5cclxuICAgICAgICAgICAgLy9kaXZpZGUgMjAwcHggYnkgdG90YWwgbnVtYmVyIG9mIHBvaW50cyB0byBnZXQgbGVuZ3RoIG9mIHRyaWFuZ2xlIGJhc2UuIFRoYXQgYmVjb21lcyB0aGUgbGVmdCBvZmZzZXQgZm9yIGVhY2ggbmV3IHBvaW50XHJcbiAgICAgICAgICAgIC8vc3VidHJhY3QgcHJldmlvdXMgcG9pbnQgaGVpZ2h0IGZyb20gbmV3IHBvaW50IGhlaWdodCB0byBnZXQgdGhlIHJpc2Ugb2YgdGhlIHRyaWFuZ2xlLiBUaGF0IGJlY29tZXMgdGhlIGJvdHRvbSBvZmZzZXQgZm9yIHRoZSBuZXcgcG9pbnQuXHJcbiAgICAgICAgICAgIC8vdXNlIGJhc2Ugc3F1YXJlZCArIHJpc2Ugc3F1YXJlZCB0byBmaW5kIHRoZSBsZW5ndGggb2YgdGhlIGh5cG90ZW51c2UuIFRoYXQgYmVjb21lcyB0aGUgd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdy5cclxuICAgICAgICAgICAgLy91c2UgTWF0aC5hc2luKGJhc2UgLyBoeXBvdGVudXNlKSBbdGhlbiBjb252ZXJ0IHRoZSByYWRpYW5zIHRvIGRlZ3JlZXNdIHRvIGZpbmQgdGhlIGRlZ3JlZSBhbmdsZSB0byByb3RhdGUgdGhlIGxpbmUgdG8uXHJcbiAgICAgICAgICAgIC8vTXVsdGlwbHkgdGhlIHJvdGF0aW9uIGFuZ2xlIGJ5IC0xIGlmIGl0IG5lZWRzIHRvIHJpc2UgdG8gbWVldCB0aGUgbmV4dCBwb2ludC5cclxuXHJcbiAgICAgICAgICAgIHZhciBiYXNlID0gMjAwIC8gdmFsdWVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIHNvcnRWYWx1ZXModmFsdWVzKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0b3BNb3N0UG9pbnQgPSB2YWx1ZXNbMF0udmFsdWU7XHJcbiAgICAgICAgICAgIHZhciB3aWRnZXRTaXplID0gMjAwO1xyXG4gICAgICAgICAgICB2YXIgbGVmdE9mZnNldCA9IDQwOyAvL3BhZGRpbmcgZm9yIGxlZnQgYXhpcyBsYWJlbHNcclxuICAgICAgICAgICAgdmFyIG5leHRQb2ludCA9IDA7XHJcbiAgICAgICAgICAgIHZhciByaXNlID0gMDtcclxuICAgICAgICAgICAgdmFyIGNzc1ZhbHVlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaT0wLCBsZW49dmFsdWVzLmxlbmd0aC0xOyBpPGxlbjsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcclxuICAgICAgICAgICAgICAgICAgICBoeXBvdGVudXNlOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW06ICcnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZS52YWx1ZSA9IHZhbHVlc1tpXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZS5pdGVtID0gdmFsdWVzW2ldLml0ZW07XHJcblxyXG4gICAgICAgICAgICAgICAgY3VycmVudFZhbHVlLmxlZnQgPSBsZWZ0T2Zmc2V0ID4gMCA/IGxlZnRPZmZzZXQgLSAyIDogbGVmdE9mZnNldDsgLy9hZGp1c3QgZm9yIGJvcmRlclxyXG4gICAgICAgICAgICAgICAgbGVmdE9mZnNldCArPSBiYXNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZS5ib3R0b20gPSB3aWRnZXRTaXplICogKGN1cnJlbnRWYWx1ZS52YWx1ZSAvIHRvcE1vc3RQb2ludCk7XHJcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSB3aWRnZXRTaXplICogKHZhbHVlc1tpKzFdLnZhbHVlIC8gdG9wTW9zdFBvaW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICByaXNlID0gY3VycmVudFZhbHVlLmJvdHRvbSAtIG5leHRQb2ludDtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZS5oeXBvdGVudXNlID0gTWF0aC5zcXJ0KChiYXNlICogYmFzZSkgKyAocmlzZSAqIHJpc2UpKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZS5hbmdsZSA9IHJhZGlhbnNUb0RlZ3JlZXMoTWF0aC5hc2luKHJpc2UgLyBjdXJyZW50VmFsdWUuaHlwb3RlbnVzZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNzc1ZhbHVlcy5wdXNoKGN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBsYXN0UG9pbnQgPSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0T2Zmc2V0IC0gMixcclxuICAgICAgICAgICAgICAgIGJvdHRvbTogd2lkZ2V0U2l6ZSAqICh2YWx1ZXNbdmFsdWVzLmxlbmd0aCAtIDFdLnZhbHVlIC8gdG9wTW9zdFBvaW50KSxcclxuICAgICAgICAgICAgICAgIGh5cG90ZW51c2U6IDAsXHJcbiAgICAgICAgICAgICAgICBhbmdsZTogMCxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXNbdmFsdWVzLmxlbmd0aCAtIDFdLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgaXRlbTogdmFsdWVzW3ZhbHVlcy5sZW5ndGggLSAxXS5pdGVtXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBjc3NWYWx1ZXMucHVzaChsYXN0UG9pbnQpO1xyXG4gICAgICAgICAgICBjc3NWYWx1ZXMudG9wTW9zdFBvaW50ID0gdG9wTW9zdFBvaW50O1xyXG5cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJhZGlhbnNUb0RlZ3JlZXMocmFkcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhZHMgKiAoMTgwIC8gTWF0aC5QSSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjc3NWYWx1ZXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzb3J0VmFsdWVzKHZhbHVlcykge1xyXG4gICAgICAgICAgICB2YWx1ZXMuc29ydChmdW5jdGlvbihhLCBiKSB7IHJldHVybiBiLnZhbHVlIC0gYS52YWx1ZTsgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzdW0odG90YWwsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0b3RhbCArIHZhbHVlLnZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdlbnRlcnByaXNlQXBwLmRhc2hib2FyZHMnKVxyXG4gICAgICAgIC5mYWN0b3J5KCdkYXNoYm9hcmRzU2VydmljZScsIGRhc2hib2FyZHNTZXJ2aWNlKTtcclxuXHJcbiAgICBkYXNoYm9hcmRzU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJywgJ2FwcFNlcnZpY2UnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBkYXNoYm9hcmRzU2VydmljZSgkaHR0cCwgJGxvZywgYXBwU2VydmljZSkge1xyXG5cclxuICAgICAgICB2YXIgcmVwb3J0RGF0YSA9IHtcclxuICAgICAgICAgICAgc3RhcnREYXRlOiBtb21lbnQoKS5zdWJ0cmFjdCg2LCAnZGF5cycpLmZvcm1hdCgnWVlZWU1NREQnKSxcclxuICAgICAgICAgICAgZW5kRGF0ZTogbW9tZW50KCkuZm9ybWF0KCdZWVlZTU1ERCcpLFxyXG4gICAgICAgICAgICBkYXRhOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbTogJ2JsYWNrIHNvY2tzJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnTlVNQkVSJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogNjBcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbTogJ2JsdWUgc29ja3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdOVU1CRVInLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiA1XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW06ICdyZWQgc29ja3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdOVU1CRVInLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAxNVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtOiAnbmV3IHNvY2tzJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnTlVNQkVSJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMjBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xyXG4gICAgICAgICAgICBnZXRQaWVDaGFydERhdGE6IGdldFBpZUNoYXJ0RGF0YSxcclxuICAgICAgICAgICAgZ2V0QmFyQ2hhcnREYXRhOiBnZXRCYXJDaGFydERhdGEsXHJcbiAgICAgICAgICAgIGdldExpbmVDaGFydERhdGE6IGdldExpbmVDaGFydERhdGEsXHJcbiAgICAgICAgICAgIGdldFJlcG9ydERhdGE6IHJlcG9ydERhdGFcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gc2VydmljZTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0UGllQ2hhcnREYXRhKCkge1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGFwcFNlcnZpY2Uuc2ltdWxhdGVCYWNrZW5kQ2FsbCh7ZGF0YTogcmVwb3J0RGF0YX0pLnRoZW4ocHJvY2Vzc0RhdGEpO1xyXG5cclxuICAgICAgICAgICAgLy8gcmV0dXJuICRodHRwLmdldCgnL2FwaS9kYXRhL3BpZScpXHJcbiAgICAgICAgICAgIC8vICAgICAudGhlbihwcm9jZXNzRGF0YSlcclxuICAgICAgICAgICAgLy8gICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICRsb2cuZXJyb3IoJ2dldCBkYXRhIGNhbGwgZmFpbGVkOiAnICsgZXJyb3IpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIC8vcG9zc2libHkgaGFuZGxlIGVycm9yIGJ5IHJlZGlyZWN0aW5nIHRvIGxvZ2luIG9yIG1haW4gc2NyZWVuXHJcbiAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRCYXJDaGFydERhdGEoKSB7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYXBwU2VydmljZS5zaW11bGF0ZUJhY2tlbmRDYWxsKHtkYXRhOiByZXBvcnREYXRhfSkudGhlbihwcm9jZXNzRGF0YSk7XHJcblxyXG4gICAgICAgICAgICAvLyByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2RhdGEvYmFyJylcclxuICAgICAgICAgICAgLy8gICAgIC50aGVuKHByb2Nlc3NEYXRhKVxyXG4gICAgICAgICAgICAvLyAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgJGxvZy5lcnJvcignZ2V0IGRhdGEgY2FsbCBmYWlsZWQ6ICcgKyBlcnJvcik7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgLy9wb3NzaWJseSBoYW5kbGUgZXJyb3IgYnkgcmVkaXJlY3RpbmcgdG8gbG9naW4gb3IgbWFpbiBzY3JlZW5cclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldExpbmVDaGFydERhdGEoKSB7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYXBwU2VydmljZS5zaW11bGF0ZUJhY2tlbmRDYWxsKHtkYXRhOiByZXBvcnREYXRhfSkudGhlbihwcm9jZXNzRGF0YSk7XHJcblxyXG4gICAgICAgICAgICAvLyByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2RhdGEvYmFyJylcclxuICAgICAgICAgICAgLy8gICAgIC50aGVuKHByb2Nlc3NEYXRhKVxyXG4gICAgICAgICAgICAvLyAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgJGxvZy5lcnJvcignZ2V0IGRhdGEgY2FsbCBmYWlsZWQ6ICcgKyBlcnJvcik7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgLy9wb3NzaWJseSBoYW5kbGUgZXJyb3IgYnkgcmVkaXJlY3RpbmcgdG8gbG9naW4gb3IgbWFpbiBzY3JlZW5cclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHByb2Nlc3NEYXRhKGRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEuZGF0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2VudGVycHJpc2VBcHAucmVwb3J0cycpXG4gICAgLmNvbnRyb2xsZXIoJ1JlcG9ydHNDdHJsJywgUmVwb3J0c0N0cmwpO1xuXG4gICAgUmVwb3J0c0N0cmwuJGluamVjdCA9IFsnYXBwU2VydmljZScsICdyZXBvcnRzU2VydmljZSddO1xuXG4gICAgZnVuY3Rpb24gUmVwb3J0c0N0cmwoYXBwU2VydmljZSwgcmVwb3J0c1NlcnZpY2UpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0udGl0bGUgPSAncmVwb3J0cyc7XG5cbiAgICAgICAgdm0ubG9hZGluZyA9IHRydWU7XG4gICAgICAgIHZtLnJlcG9ydERhdGEgPSB7fTtcbiAgICAgICAgdm0uZm9ybWF0RGF0ZSA9IGFwcFNlcnZpY2UuZm9ybWF0RGF0ZTtcblxuICAgICAgICBpbml0KCk7XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgIHJlcG9ydHNTZXJ2aWNlLmdldFJlcG9ydERhdGEoKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2bS5yZXBvcnREYXRhID0gZGF0YTtcbiAgICAgICAgICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdlbnRlcnByaXNlQXBwLnJlcG9ydHMnKVxuICAgICAgICAuZmFjdG9yeSgncmVwb3J0c1NlcnZpY2UnLCByZXBvcnRzU2VydmljZSk7XG5cbiAgICByZXBvcnRzU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJywgJ2FwcFNlcnZpY2UnXTtcblxuICAgIGZ1bmN0aW9uIHJlcG9ydHNTZXJ2aWNlKCRodHRwLCAkbG9nLCBhcHBTZXJ2aWNlKSB7XG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICAgICAgZ2V0UmVwb3J0RGF0YTogZ2V0UmVwb3J0RGF0YVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldFJlcG9ydERhdGEoKSB7XG4gICAgICAgICAgICB2YXIgcmVwb3J0RGF0YSA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IDIwMjAwMTAxLFxuICAgICAgICAgICAgICAgICAgICBpZDogMTAwMSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogJ2JsYWNrIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDIwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMDIsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdibHVlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDUwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMixcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMTEsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdyZWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMjBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEyLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAncGxhaWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMzBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDMsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEzLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAnYXJneWxlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDQwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IDIwMjAwMTAxLFxuICAgICAgICAgICAgICAgICAgICBpZDogMTAwMSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogJ2JsYWNrIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDIwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMDIsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdibHVlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDUwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMixcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMTEsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdyZWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMjBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEyLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAncGxhaWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMzBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDMsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEzLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAnYXJneWxlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDQwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IDIwMjAwMTAxLFxuICAgICAgICAgICAgICAgICAgICBpZDogMTAwMSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogJ2JsYWNrIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDIwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMDIsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdibHVlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDUwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMixcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMTEsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdyZWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMjBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEyLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAncGxhaWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMzBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDMsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEzLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAnYXJneWxlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDQwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IDIwMjAwMTAxLFxuICAgICAgICAgICAgICAgICAgICBpZDogMTAwMSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogJ2JsYWNrIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDIwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMDIsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdibHVlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDUwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMixcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMTEsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdyZWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMjBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEyLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAncGxhaWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMzBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDMsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEzLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAnYXJneWxlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDQwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IDIwMjAwMTAxLFxuICAgICAgICAgICAgICAgICAgICBpZDogMTAwMSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogJ2JsYWNrIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDIwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMDIsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdibHVlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDUwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMixcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMTEsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdyZWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMjBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEyLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAncGxhaWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMzBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDMsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEzLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAnYXJneWxlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDQwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IDIwMjAwMTAxLFxuICAgICAgICAgICAgICAgICAgICBpZDogMTAwMSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogJ2JsYWNrIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDIwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMDIsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdibHVlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDUwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMixcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMTEsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdyZWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMjBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEyLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAncGxhaWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMzBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDMsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEzLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAnYXJneWxlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDQwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IDIwMjAwMTAxLFxuICAgICAgICAgICAgICAgICAgICBpZDogMTAwMSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogJ2JsYWNrIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDIwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMDIsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdibHVlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDUwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMixcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMTEsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdyZWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMjBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEyLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAncGxhaWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMzBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDMsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEzLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAnYXJneWxlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDQwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IDIwMjAwMTAxLFxuICAgICAgICAgICAgICAgICAgICBpZDogMTAwMSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogJ2JsYWNrIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDIwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMDIsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdibHVlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDUwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMixcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMTEsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdyZWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMjBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEyLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAncGxhaWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMzBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDMsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEzLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAnYXJneWxlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDQwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IDIwMjAwMTAxLFxuICAgICAgICAgICAgICAgICAgICBpZDogMTAwMSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogJ2JsYWNrIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDIwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMDIsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdibHVlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDUwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMixcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMTEsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdyZWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMjBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEyLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAncGxhaWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMzBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDMsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEzLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAnYXJneWxlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDQwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IDIwMjAwMTAxLFxuICAgICAgICAgICAgICAgICAgICBpZDogMTAwMSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogJ2JsYWNrIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDIwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMDIsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdibHVlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDUwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMixcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMTEsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdyZWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMjBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEyLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAncGxhaWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMzBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDMsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEzLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAnYXJneWxlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDQwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IDIwMjAwMTAxLFxuICAgICAgICAgICAgICAgICAgICBpZDogMTAwMSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogJ2JsYWNrIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDIwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMDIsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdibHVlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDUwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRlOiAyMDIwMDEwMixcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMTEsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6ICdyZWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMjBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEyLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAncGxhaWQgc29ja3MnLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMzBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogMjAyMDAxMDMsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAxMDEzLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAnYXJneWxlIHNvY2tzJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDQwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgcmV0dXJuIGFwcFNlcnZpY2Uuc2ltdWxhdGVCYWNrZW5kQ2FsbCh7ZGF0YTogcmVwb3J0RGF0YX0pLnRoZW4ocHJvY2Vzc0RhdGEpO1xuXG4gICAgICAgICAgICAvLyByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3JlcG9ydC1kYXRhJylcbiAgICAgICAgICAgIC8vICAgICAudGhlbihwcm9jZXNzRGF0YSlcbiAgICAgICAgICAgIC8vICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICRsb2cuZXJyb3IoJ2dldCBkYXRhIGNhbGwgZmFpbGVkOiAnICsgZXJyb3IpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgLy9wb3NzaWJseSBoYW5kbGUgZXJyb3IgYnkgcmVkaXJlY3RpbmcgdG8gbG9naW4gb3IgbWFpbiBzY3JlZW5cbiAgICAgICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByb2Nlc3NEYXRhKGRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5kYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnZW50ZXJwcmlzZUFwcC5zZXR0aW5ncycpXG4gICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ3RybCcsIFNldHRpbmdzQ3RybCk7XG5cbiAgICBTZXR0aW5nc0N0cmwuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckdHJhbnNsYXRlJywgJ2FwcFNlcnZpY2UnXTtcblxuICAgIGZ1bmN0aW9uIFNldHRpbmdzQ3RybCgkcm9vdFNjb3BlLCAkdHJhbnNsYXRlLCBhcHBTZXJ2aWNlKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZtLmxhbmcgPSBhcHBTZXJ2aWNlLnByZWZlcnJlZExhbmd1YWdlO1xuICAgICAgICB2bS50aXRsZSA9ICdzZXR0aW5ncyc7XG5cbiAgICAgICAgdm0uY2hhbmdlTGFuZ3VhZ2VBbmRMb2NhbGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFwcFNlcnZpY2UucHJlZmVycmVkTGFuZ3VhZ2UgPSB2bS5sYW5nO1xuICAgICAgICAgICAgbW9tZW50LmxvY2FsZSh2bS5sYW5nKTtcbiAgICAgICAgICAgICR0cmFuc2xhdGUudXNlKHZtLmxhbmcpO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdsYW5ndWFnZUNoYW5nZScpO1xuICAgICAgICB9O1xuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2VudGVycHJpc2VBcHAnKVxuICAgICAgICAuZGlyZWN0aXZlKCdzcGlubmVyJywgW1xuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnZnJhbWV3b3JrL3NoYXJlZC9zcGlubmVyL3NwaW5uZXIuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbWFsbDogJ0A/J1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSk7XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
